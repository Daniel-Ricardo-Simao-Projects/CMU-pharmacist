(you can also check the setup process in the README.md, if you prefer)
# PharmacIST
PharmacIST is an Android mobile application designed to simplify medication management for both you and your local pharmacies. Developed as part of the Mobile and Ubiquitous Computation course at IST (2023-2024)

## Stack
- Database: MySQL 
- Backend: Go
- Frontend: Flutter

## Install and Setup Database
1. We use MySQL (version 8.0.35) as our database. Install the community edition from the [official website](https://dev.mysql.com/downloads/mysql/).
2. Run the following command to enable the MySQL service:

    ```bash
    sudo systemctl enable mysqld
    ```
3. Run the following command to start the MySQL service:

    ```bash
    sudo service mysqld start
    ```
4. Run the following command to configure the MySQL service:

    ```bash
    sudo mysql_secure_installation
    ```
5. Run the following commands to confirm the installation and login to the MySQL shell:

    ```bash
    mysql --version
    mysql -u root -p
    ```
If the version is displayed and you are able to login to the MySQL shell, the installation was successful.

Then you have to change the database configuration in the backend to match your MySQL configuration. The configuration file is located at `go_backend/config/db_management.go`. It uses an `.env` file that must be located in the project root directory. Create it with the following variables. Change the password line to match your MySQL password. If you created another user, change the user line as well. The default configuration is as follows:

```bash
    DB_DRIVER="mysql"
    DB_USER="root"
    DB_PASS=<YOUR_PASSWORD>
    DB_NAME="pharmacist_app"

```

```go
    const (
        dbName   = "pharmacist_app"
    )
```
Where `<YOUR_PASSWORD>` is the password you set during the MySQL installation.

## Run the backend

### Install Go

To run the backend, you need to have Go installed. You can follow the instructions on the [official website](https://golang.org/doc/install).

### Run the backend

With the database configuration set, you can now run the backend with the following command (assuming you are in the main directory):

```bash
    cd go_backend
    make run
```

Besides that, if you want, before running the backend, you can populate or clean the database with the following commands:

```go
    make seed // populate the database
    make drop // clean the database
```

## Run flutter app

### Install Flutter

To run the flutter app, you need to have flutter installed. You can follow the instructions on the [official website](https://flutter.dev/docs/get-started/install).

### Run the app

After the backend is running, you can run the flutter app with the following command (assuming you are in the main directory):

```bash
    cd flutter_frontend
    flutter run
```

You can also define a different backend url with the command in case you are running the backend in a different machine or port.

```bash
    flutter run --dart-define=URL=<BACKEND_URL>:5000
```

The default URL is localhost:5000.
